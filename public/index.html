<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- Meta Information -->
    <title>Tweeter - Home Page</title>

    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">

    <!-- External CSS -->
    <link rel="stylesheet" href="/vendor/normalize-4.1.1.css" type="text/css" />
    
    <!-- Font -->
    <link href="https://fonts.googleapis.com/css?family=Roboto+Condensed:300,300i,700,700i" rel="stylesheet">

    <!-- App CSS -->
    <link rel="stylesheet" href="/styles/layout.css" type="text/css" />
    <link rel="stylesheet" href="/styles/nav.css" type="text/css">
    <link rel="stylesheet" href="/styles/new-tweet.css" type="text/css">
    <link rel="stylesheet" href="/styles/tweets.css" type="text/css">
    <!-- External JS -->
    <script type="text/javascript" src="/vendor/jquery-2.2.3.min.js"></script>

    <!-- App JS -->
    <script type="text/javascript" src="/scripts/app.js"></script>
    <script type="text/javascript" src="/scripts/composer-char-count.js"></script>

    <!-- jQuery Bootstap Stuff -->
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>

    <!-- Submit Tweet Function -->
    <script>
    $('#submitTweet').on('submit', (event) => {
      event.preventDefault();
      const data = $('#submitTweet').serialize();
      console.log('tweet: ', data);

      $.post('/tweets/', data)
        .then((tweet) => {
          const elm = createTweetElement(tweet)
          renderTweets(elm);
        })
        .catch((err) => {
          console.log(err);
          alert('Something went wrong, please try again!');
        });
    })

    </script>

  </head>

  <body>

    <!-- Top nav bar (fixed) -->
    <nav id="nav-bar">
      <img class="logo" src="/images/bird.png">
      <span class="header">Tweeter</span>
    </nav>

    <!-- Page-specific (main) content here -->
    <main class="container">
        
        <section class="new-tweet">
            <h2>Compose Tweet</h2>
            <form id="submitTweet" action="/tweets/" method="POST">
              <textarea id="text" name="text" placeholder="What are you humming about?"></textarea>
              <input type="submit" value="Tweet">
              <span class="counter">140</span>
            </form>
          </section>

        <article class="tweet-container">
          <!-- Loads tweets from app.js -->
        </article>

    </main>

    </body>
</html>
